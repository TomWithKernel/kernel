# vim

**vim打开文件：**

| Vi 使用的选项 | 说明 |
| --- | --- |
| vim  filename | 打开或新建一个文件，并将光标置于第一行的首部 |
| vim   -r  filename | 恢复上次 vim 打开时崩溃的文件 |
| vim  -R  filename | 把指定的文件以只读方式放入 Vim 编辑器中 |
| vim  +  filename | 打开文件，并将光标置于最后一行的首部 |
| vim  +n  filename | 打开文件，并将光标置于第 n 行的首部 |
| vim  +/pattern  filename | 打幵文件，并将光标置于第一个与 pattern 匹配的位置 |
| vim  -c command  filename | 在对文件进行编辑前，先执行指定的命令 |

## 命令模式

### 光标移动

| gg | 移动到首行 |
| --- | --- |
| G | 移动到尾行 |
| ^或_ | 移动到行首第一个非空字符 |
| g_ | 移动到行尾最后一个非空字符 |
| end或者g | 动到行尾最后一个字符 |
| b/B | 光标向前移动一个单词（大写忽略/-等等特殊字符） |
| w/W | 光标向后移动一个单词（大写忽略/-等等特殊字符） |
| e/E | 移到单词结尾（大写忽略/-等等特殊字符） |
| 数字+G | 快速将光标移动到指定行 |
| H | 移动到屏幕顶部 |
| M | 移动到屏幕中间 |
| L | 移动到屏幕尾部 |
| z+Enter | 当前行在屏幕顶部 |
| ) | 向前移动一个句子 |
| ( | 向后移动一个句子 |
| } | 向前移动一个段落 |
| { | 向前移动一个段落 |

### 删除

| x | 删除光标所在位置的字符 |
| --- | --- |
| X | 删除光标前一个字符 |
| dd | 删除光标所在行，删除之后，下一行上移 |
| D | 删除光标位置到行尾的内容，删除之后，下一行不上移 |

### 字符转换

| ~ | 转换大小写 |
| --- | --- |
| u | 变成小写 |
| U | 变成大写 |

### 替换

| r | 替换光标所在位置的字符 |
| --- | --- |
| R | 从光标所在位置开始替换字符，其输入内容会覆盖掉后面等长的文本内容，按“Esc”可以结束 |
| :s/a1/a2 | 替换当前光标所在行第一处符合条件的内容 |
| :s/a1/a2/g | 替换当前光标所在行所有的 a1 都用 a2 替换 |
| :%s/a1/a2 | 替换所有行中，第一处符合条件的内容 |
| :%s/a1/a2/g | 替换所有行中，所有符合条件的内容 |
| :n1,n2 s/a1/a2 | 将文件中 n1 到 n2 行中第一处 a1 都用 a2 替换 |
| :n1,n2 s/a1/a2/g | 将文件中 n1 到 n2 行中所有 a1 都用 a2 替换 |

### **文件切换**

| :files | 查看当前已经打开的所有文件(%a表示激活状态，#表示上一个打开的文件) |
| --- | --- |
| :open 文件名 | 切换到指定文件 |
| :bp | 切换到上一个文件 |
| :bn | 切换到下一个文件 |